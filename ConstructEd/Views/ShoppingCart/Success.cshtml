@{
    ViewData["Title"] = "Payment Successful";
}

<div class="payment-success-container">
    <div class="payment-success-card card">
        <h2 class="payment-success-title">Payment Successful!</h2>
        <p class="payment-success-message">Thank you for your payment.</p>

        @if (ViewBag.TransactionID != null)
        {
            <p class="transaction-id"><strong>Transaction ID:</strong> @ViewBag.TransactionID</p>
        }

        <p class="redirect-message">You will be redirected to your profile in <span id="countdown">5</span> seconds.</p>
        <a asp-controller="Account" asp-action="Profile" class="btn btn-primary">Go to Profile Now</a>
    </div>
</div>

@section Scripts {
    <script>
        // Countdown and redirect logic
        let countdown = 5;
        const countdownElement = document.getElementById("countdown");

        const interval = setInterval(() => {
            countdown--;
            countdownElement.textContent = countdown;

            if (countdown === 0) {
                clearInterval(interval);
                window.location.href = "@Url.Action("Profile", "Account")";
            }
        }, 1000);
    </script>
}